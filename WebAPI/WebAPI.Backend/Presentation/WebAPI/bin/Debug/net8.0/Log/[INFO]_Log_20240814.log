2024-08-14 13:35:59.418 +03:00 [INF] Application startup services registration
2024-08-14 13:36:05.866 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 13:36:06.428 +03:00 [INF] Application startup middleware registration
2024-08-14 13:36:06.994 +03:00 [INF] Application Starting
2024-08-14 13:36:07.721 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 13:36:07.727 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 13:36:07.732 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 13:36:07.734 +03:00 [INF] Hosting environment: Development
2024-08-14 13:36:07.738 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 13:36:08.658 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger - null null
2024-08-14 13:36:10.645 +03:00 [INF] HTTP GET /swagger responded 301 in 1653.2116 ms
2024-08-14 13:36:10.654 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger - 301 0 null 2003.8579ms
2024-08-14 13:36:10.674 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 13:36:10.810 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 123.7801 ms
2024-08-14 13:36:10.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 142.9985ms
2024-08-14 13:36:10.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/swagger-ui.css - null null
2024-08-14 13:36:10.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/swagger-ui-bundle.js - null null
2024-08-14 13:36:10.832 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 13:36:10.829 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/swagger-ui-standalone-preset.js - null null
2024-08-14 13:36:10.863 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 32.6623ms
2024-08-14 13:36:10.837 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 13:36:10.907 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-08-14 13:36:10.917 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-08-14 13:36:10.919 +03:00 [INF] HTTP GET /swagger/swagger-ui.css responded 200 in 82.1237 ms
2024-08-14 13:36:10.921 +03:00 [INF] HTTP GET /swagger/swagger-ui-standalone-preset.js responded 200 in 52.0399 ms
2024-08-14 13:36:10.925 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/swagger-ui.css - 200 143943 text/css 100.7194ms
2024-08-14 13:36:10.926 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 96.9244ms
2024-08-14 13:36:10.937 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-08-14 13:36:10.940 +03:00 [INF] HTTP GET /swagger/swagger-ui-bundle.js responded 200 in 96.2872 ms
2024-08-14 13:36:10.942 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 113.5483ms
2024-08-14 13:36:10.961 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 124.3552ms
2024-08-14 13:36:11.054 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 13:36:11.344 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 285.0606 ms
2024-08-14 13:36:11.348 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 294.2645ms
2024-08-14 13:38:40.958 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 13:38:41.006 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 13:38:41.038 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 13:38:41.260 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 13:38:43.080 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 2022.7805ms
2024-08-14 13:38:43.094 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 13:38:43.180 +03:00 [ERR] The DbContextOptions passed to the ClientConfigDbContext constructor must be a DbContextOptions<ClientConfigDbContext>. When registering multiple DbContext types, make sure that the constructor for each context type has a DbContextOptions<TContext> parameter rather than a non-generic DbContextOptions parameter.
2024-08-14 13:38:43.205 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 2234.0363 ms
2024-08-14 13:38:43.212 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 2254.8538ms
2024-08-14 14:06:22.392 +03:00 [INF] Application startup services registration
2024-08-14 14:06:22.992 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:06:23.086 +03:00 [INF] Application startup middleware registration
2024-08-14 14:06:23.212 +03:00 [INF] Application Starting
2024-08-14 14:06:23.427 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:06:23.428 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:06:23.429 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:06:23.429 +03:00 [INF] Hosting environment: Development
2024-08-14 14:06:23.430 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:06:23.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:07:32.822 +03:00 [INF] Application startup services registration
2024-08-14 14:07:35.962 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:07:36.199 +03:00 [INF] Application startup middleware registration
2024-08-14 14:07:36.484 +03:00 [INF] Application Starting
2024-08-14 14:07:36.664 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:07:36.664 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:07:36.666 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:07:36.666 +03:00 [INF] Hosting environment: Development
2024-08-14 14:07:36.667 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:07:37.185 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:13:17.165 +03:00 [INF] Application startup services registration
2024-08-14 14:13:20.326 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:13:20.534 +03:00 [INF] Application startup middleware registration
2024-08-14 14:13:20.867 +03:00 [INF] Application Starting
2024-08-14 14:13:21.107 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:13:21.110 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:13:21.114 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:13:21.120 +03:00 [INF] Hosting environment: Development
2024-08-14 14:13:21.124 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:13:21.467 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:13:23.706 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 2138.0848 ms
2024-08-14 14:13:23.712 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 2246.2756ms
2024-08-14 14:13:23.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 14:13:23.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 14:13:23.743 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 15.3017ms
2024-08-14 14:13:23.765 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 36.3291ms
2024-08-14 14:13:23.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 14:13:24.062 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 130.3740 ms
2024-08-14 14:13:24.064 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.2244ms
2024-08-14 14:18:29.500 +03:00 [INF] Application startup services registration
2024-08-14 14:18:30.666 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:18:30.794 +03:00 [INF] Application startup middleware registration
2024-08-14 14:18:30.914 +03:00 [INF] Application Starting
2024-08-14 14:18:31.042 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:18:31.043 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:18:31.045 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:18:31.047 +03:00 [INF] Hosting environment: Development
2024-08-14 14:18:31.048 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:18:31.556 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:18:31.775 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 136.0671 ms
2024-08-14 14:18:31.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 14:18:31.788 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 14:18:31.790 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 238.199ms
2024-08-14 14:18:31.808 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 20.3299ms
2024-08-14 14:18:31.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7737ms
2024-08-14 14:18:31.880 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 14:18:32.011 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 127.3320 ms
2024-08-14 14:18:32.014 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.8037ms
2024-08-14 14:24:17.519 +03:00 [INF] Application startup services registration
2024-08-14 14:24:18.289 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:24:18.381 +03:00 [INF] Application startup middleware registration
2024-08-14 14:24:18.481 +03:00 [INF] Application Starting
2024-08-14 14:24:18.633 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:24:18.634 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:24:18.635 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:24:18.637 +03:00 [INF] Hosting environment: Development
2024-08-14 14:24:18.638 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:24:19.070 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:24:19.338 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 162.1686 ms
2024-08-14 14:24:19.346 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 278.6802ms
2024-08-14 14:24:19.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 14:24:19.361 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 14:24:19.396 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 35.598ms
2024-08-14 14:24:19.417 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.9449ms
2024-08-14 14:24:19.468 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 14:24:19.602 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 130.1927 ms
2024-08-14 14:24:19.604 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 136.3771ms
2024-08-14 14:29:19.435 +03:00 [INF] Application startup services registration
2024-08-14 14:29:20.151 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:29:20.288 +03:00 [INF] Application startup middleware registration
2024-08-14 14:29:20.453 +03:00 [INF] Application Starting
2024-08-14 14:29:20.606 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:29:20.607 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:29:20.609 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:29:20.609 +03:00 [INF] Hosting environment: Development
2024-08-14 14:29:20.610 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:29:20.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:29:21.297 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 136.2144 ms
2024-08-14 14:29:21.302 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 332.8093ms
2024-08-14 14:29:21.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 14:29:21.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 14:29:21.321 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 10.5575ms
2024-08-14 14:29:21.350 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.7389ms
2024-08-14 14:29:21.400 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 14:29:21.551 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 148.5125 ms
2024-08-14 14:29:21.554 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 154.7221ms
2024-08-14 14:36:06.542 +03:00 [INF] Application startup services registration
2024-08-14 14:36:07.285 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:36:07.406 +03:00 [INF] Application startup middleware registration
2024-08-14 14:36:09.873 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:37:12.549 +03:00 [INF] Application startup services registration
2024-08-14 14:37:13.399 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:37:13.489 +03:00 [INF] Application startup middleware registration
2024-08-14 14:37:14.459 +03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:54:22.083 +03:00 [INF] Application startup services registration
2024-08-14 14:54:30.470 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:54:31.058 +03:00 [INF] Application startup middleware registration
2024-08-14 14:54:34.897 +03:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:54:35.035 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'ConnectSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.037 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.038 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.040 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'ModeSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.438 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:54:35.598 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.603 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.605 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.608 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:54:35.935 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:54:36.430 +03:00 [INF] Application Starting
2024-08-14 14:54:36.967 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:54:36.970 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:54:36.972 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:54:36.974 +03:00 [INF] Hosting environment: Development
2024-08-14 14:54:36.976 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:54:37.668 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:54:39.705 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1817.0172 ms
2024-08-14 14:54:39.720 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 14:54:39.723 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 14:54:39.729 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 2063.7914ms
2024-08-14 14:54:39.751 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 28.588ms
2024-08-14 14:54:39.831 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 113.0353ms
2024-08-14 14:54:39.891 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 14:54:40.215 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 315.4866 ms
2024-08-14 14:54:40.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 329.1187ms
2024-08-14 14:54:46.236 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 14:54:46.276 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 14:54:46.315 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 14:54:46.559 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 14:54:46.893 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 564.162ms
2024-08-14 14:54:46.896 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 14:54:46.926 +03:00 [ERR] Cannot create a DbSet for 'ClientSettings' because this type is not included in the model for the context.
2024-08-14 14:54:46.946 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 703.5896 ms
2024-08-14 14:54:46.969 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 733.68ms
2024-08-14 14:56:33.371 +03:00 [INF] Application startup services registration
2024-08-14 14:56:34.392 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 14:56:34.554 +03:00 [INF] Application startup middleware registration
2024-08-14 14:56:35.573 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:56:35.676 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'ConnectSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.679 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.681 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.683 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'ModeSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.931 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:56:35.982 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.988 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.992 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:35.994 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 14:56:36.180 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 14:56:36.304 +03:00 [INF] Application Starting
2024-08-14 14:56:36.469 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 14:56:36.470 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 14:56:36.471 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 14:56:36.472 +03:00 [INF] Hosting environment: Development
2024-08-14 14:56:36.474 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 14:56:36.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 14:56:37.285 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 152.9844 ms
2024-08-14 14:56:37.298 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 302.1052ms
2024-08-14 14:56:37.317 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 14:56:37.318 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 14:56:37.335 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 17.6719ms
2024-08-14 14:56:37.364 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.6564ms
2024-08-14 14:56:37.409 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 14:56:37.577 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 164.6265 ms
2024-08-14 14:56:37.580 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.9758ms
2024-08-14 14:56:44.005 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 14:56:44.060 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 14:56:44.088 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 14:56:44.248 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 14:56:44.391 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 294.7449ms
2024-08-14 14:56:44.395 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 14:56:44.411 +03:00 [ERR] Cannot create a DbSet for 'ClientSettings' because this type is not included in the model for the context.
2024-08-14 14:56:44.424 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 398.2951 ms
2024-08-14 14:56:44.433 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 428.5636ms
2024-08-14 14:57:58.478 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/connections/Connection/allConnections - null null
2024-08-14 14:57:58.495 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ConnectionController.GetAllConnections (WebAPI)'
2024-08-14 14:57:58.511 +03:00 [INF] Route matched with {action = "GetAllConnections", controller = "Connection"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Connections.Queries.GetConnectionsList.ConnectionListViewModel]] GetAllConnections() on controller WebAPI.Controllers.ConnectionController (WebAPI).
2024-08-14 14:57:58.520 +03:00 [INF] Executing action method WebAPI.Controllers.ConnectionController.GetAllConnections (WebAPI) - Validation state: "Valid"
2024-08-14 14:57:59.227 +03:00 [ERR] Failed executing DbCommand (64ms) [Parameters=[@__status_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM connections AS c
WHERE c.connection_status = @__status_0
2024-08-14 14:57:59.245 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ConnectionDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: отношение "connections" не существует

POSITION: 28
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "connections" не существует
    Position: 28
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: отношение "connections" не существует

POSITION: 28
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at bool Npgsql.NpgsqlDataReader.NextResult()
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at NpgsqlDataReader Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at DbDataReader Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at RelationalDataReader Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at bool Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+Enumerator.InitializeReader(Enumerator enumerator)
   at bool Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+Enumerator.MoveNext()+(DbContext _, Enumerator enumerator) => { }
   at TResult Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute<TState, TResult>(TState state, Func<DbContext, TState, TResult> operation, Func<DbContext, TState, ExecutionResult<TResult>> verifySucceeded)
   at bool Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+Enumerator.MoveNext()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "connections" не существует
    Position: 28
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2024-08-14 14:57:59.475 +03:00 [INF] Executed action WebAPI.Controllers.ConnectionController.GetAllConnections (WebAPI) in 956.9264ms
2024-08-14 14:57:59.478 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ConnectionController.GetAllConnections (WebAPI)'
2024-08-14 14:57:59.505 +03:00 [ERR] 42P01: отношение "connections" не существует

POSITION: 28
2024-08-14 14:57:59.508 +03:00 [ERR] HTTP GET /api/v1/connections/Connection/allConnections responded 500 in 1019.8389 ms
2024-08-14 14:57:59.520 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/connections/Connection/allConnections - 500 null application/json 1041.7273ms
2024-08-14 14:58:18.945 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/connections/Connection/allClients - null null
2024-08-14 14:58:18.955 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ConnectionController.GetAllClients (WebAPI)'
2024-08-14 14:58:18.965 +03:00 [INF] Route matched with {action = "GetAllClients", controller = "Connection"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Clients.Queries.GetClient.GetAll.ClientListViewModel]] GetAllClients() on controller WebAPI.Controllers.ConnectionController (WebAPI).
2024-08-14 14:58:18.971 +03:00 [INF] Executing action method WebAPI.Controllers.ConnectionController.GetAllClients (WebAPI) - Validation state: "Valid"
2024-08-14 14:58:19.068 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.connection_id, c.connection_status, c.work_status
FROM clients AS c
2024-08-14 14:58:19.317 +03:00 [INF] Executed action WebAPI.Controllers.ConnectionController.GetAllClients (WebAPI) in 347.2014ms
2024-08-14 14:58:19.323 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ConnectionController.GetAllClients (WebAPI)'
2024-08-14 14:58:19.450 +03:00 [ERR] Clients Not Found.
2024-08-14 14:58:19.453 +03:00 [INF] HTTP GET /api/v1/connections/Connection/allClients responded 400 in 502.7029 ms
2024-08-14 14:58:19.458 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/connections/Connection/allClients - 400 null application/json 512.4164ms
2024-08-14 14:58:41.596 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 14:58:41.648 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 14:58:41.658 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 14:58:41.662 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 14:58:41.792 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 129.8405ms
2024-08-14 14:58:41.793 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 14:58:41.817 +03:00 [ERR] Cannot create a DbSet for 'ClientSettings' because this type is not included in the model for the context.
2024-08-14 14:58:41.824 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 176.8763 ms
2024-08-14 14:58:41.828 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 231.9221ms
2024-08-14 15:16:05.300 +03:00 [INF] Application startup services registration
2024-08-14 15:16:06.293 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 15:16:06.384 +03:00 [INF] Application startup middleware registration
2024-08-14 15:16:07.468 +03:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:16:07.782 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:16:07.854 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:16:07.856 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:16:07.858 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:16:07.860 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:16:08.036 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:16:08.142 +03:00 [INF] Application Starting
2024-08-14 15:16:08.322 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 15:16:08.324 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 15:16:08.329 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 15:16:08.330 +03:00 [INF] Hosting environment: Development
2024-08-14 15:16:08.332 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 15:16:08.849 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 15:16:09.054 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 124.7048 ms
2024-08-14 15:16:09.062 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 216.2434ms
2024-08-14 15:16:09.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 15:16:09.064 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 15:16:09.079 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 15.186ms
2024-08-14 15:16:09.106 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.4639ms
2024-08-14 15:16:09.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 15:16:09.281 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 129.7777 ms
2024-08-14 15:16:09.284 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 137.338ms
2024-08-14 15:16:13.729 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 15:16:13.760 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 15:16:13.800 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 15:16:14.200 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 15:16:14.556 +03:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."SystemId", c.client_id
FROM "ClientSettings" AS c
2024-08-14 15:16:14.580 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: отношение "ClientSettings" не существует

POSITION: 40
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "ClientSettings" не существует
    Position: 40
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: отношение "ClientSettings" не существует

POSITION: 40
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "ClientSettings" не существует
    Position: 40
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2024-08-14 15:16:14.839 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1018.4352ms
2024-08-14 15:16:14.844 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 15:16:14.941 +03:00 [ERR] 42P01: отношение "ClientSettings" не существует

POSITION: 40
2024-08-14 15:16:14.950 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 1214.9913 ms
2024-08-14 15:16:14.958 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1229.9199ms
2024-08-14 15:22:02.469 +03:00 [INF] Application startup services registration
2024-08-14 15:22:03.184 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 15:22:03.276 +03:00 [INF] Application startup middleware registration
2024-08-14 15:22:04.269 +03:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:22:04.723 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:22:04.779 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:22:04.781 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:22:04.783 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:22:04.784 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:22:04.989 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:22:05.162 +03:00 [INF] Application Starting
2024-08-14 15:22:05.331 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 15:22:05.334 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 15:22:05.336 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 15:22:05.338 +03:00 [INF] Hosting environment: Development
2024-08-14 15:22:05.340 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 15:22:05.901 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 15:22:06.168 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 153.7138 ms
2024-08-14 15:22:06.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 15:22:06.188 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 15:22:06.200 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 300.8912ms
2024-08-14 15:22:06.216 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 27.3146ms
2024-08-14 15:22:06.245 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 57.7488ms
2024-08-14 15:22:06.295 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 15:22:06.461 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 162.3640 ms
2024-08-14 15:22:06.464 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.0021ms
2024-08-14 15:22:13.838 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 15:22:13.865 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 15:22:13.900 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 15:22:14.153 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 15:22:14.623 +03:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."SystemId", c.client_id
FROM "ClientSettings" AS c
WHERE c."SystemId" = @__get_Item_0
LIMIT 1
2024-08-14 15:22:14.646 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: отношение "ClientSettings" не существует

POSITION: 40
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "ClientSettings" не существует
    Position: 40
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: отношение "ClientSettings" не существует

POSITION: 40
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42P01
    MessageText: отношение "ClientSettings" не существует
    Position: 40
    File: parse_relation.c
    Line: 1452
    Routine: parserOpenTable
2024-08-14 15:22:14.946 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 1037.6437ms
2024-08-14 15:22:14.951 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 15:22:15.038 +03:00 [ERR] 42P01: отношение "ClientSettings" не существует

POSITION: 40
2024-08-14 15:22:15.044 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 500 in 1201.2488 ms
2024-08-14 15:22:15.054 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 500 null application/json 1215.7484ms
2024-08-14 15:52:14.768 +03:00 [INF] Application startup services registration
2024-08-14 15:52:15.664 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 15:52:15.814 +03:00 [INF] Application startup middleware registration
2024-08-14 15:52:16.754 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:52:17.019 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:52:17.103 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:52:17.106 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:52:17.108 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:52:17.109 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:52:17.266 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:52:17.364 +03:00 [INF] Application Starting
2024-08-14 15:52:17.545 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 15:52:17.547 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 15:52:17.548 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 15:52:17.550 +03:00 [INF] Hosting environment: Development
2024-08-14 15:52:17.552 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 15:52:18.153 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 15:52:18.399 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 137.8231 ms
2024-08-14 15:52:18.406 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 262.8648ms
2024-08-14 15:52:18.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 15:52:18.410 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 15:52:18.421 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 10.6885ms
2024-08-14 15:52:18.457 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.415ms
2024-08-14 15:52:18.499 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 15:52:18.617 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 115.2810 ms
2024-08-14 15:52:18.620 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.1794ms
2024-08-14 15:52:22.395 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 15:52:22.490 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 15:52:22.509 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 15:52:22.763 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 15:52:23.167 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id1
FROM client_configuration AS c
2024-08-14 15:52:23.199 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42703: столбец c.client_id1 не существует

POSITION: 21
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.client_id1 не существует
    Hint: Возможно, предполагалась ссылка на столбец "c.client_id".
    Position: 21
    File: parse_relation.c
    Line: 3738
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: столбец c.client_id1 не существует

POSITION: 21
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.client_id1 не существует
    Hint: Возможно, предполагалась ссылка на столбец "c.client_id".
    Position: 21
    File: parse_relation.c
    Line: 3738
    Routine: errorMissingColumn
2024-08-14 15:52:23.451 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 932.704ms
2024-08-14 15:52:23.455 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 15:52:23.546 +03:00 [ERR] 42703: столбец c.client_id1 не существует

POSITION: 21
2024-08-14 15:52:23.553 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 1108.3885 ms
2024-08-14 15:52:23.563 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1168.4483ms
2024-08-14 15:54:17.991 +03:00 [INF] Application startup services registration
2024-08-14 15:54:18.904 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 15:54:19.024 +03:00 [INF] Application startup middleware registration
2024-08-14 15:54:20.080 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:54:20.345 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:54:20.446 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:54:20.447 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:54:20.449 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:54:20.451 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 15:54:20.657 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 15:54:20.837 +03:00 [INF] Application Starting
2024-08-14 15:54:20.946 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 15:54:20.948 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 15:54:20.949 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 15:54:20.951 +03:00 [INF] Hosting environment: Development
2024-08-14 15:54:20.953 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 15:54:21.682 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 15:54:22.073 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 164.5691 ms
2024-08-14 15:54:22.091 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 410.5786ms
2024-08-14 15:54:22.137 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 15:54:22.163 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 15:54:22.167 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 30.5343ms
2024-08-14 15:54:22.208 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.269ms
2024-08-14 15:54:22.312 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 15:54:22.520 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 187.0515 ms
2024-08-14 15:54:22.523 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 214.103ms
2024-08-14 15:55:08.867 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 15:55:08.938 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 15:55:08.980 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 15:55:09.154 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 15:55:10.048 +03:00 [ERR] Failed executing DbCommand (43ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id1
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 15:55:10.070 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42703: столбец c.client_id1 не существует

POSITION: 21
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.client_id1 не существует
    Hint: Возможно, предполагалась ссылка на столбец "c.client_id".
    Position: 21
    File: parse_relation.c
    Line: 3738
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: столбец c.client_id1 не существует

POSITION: 21
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.client_id1 не существует
    Hint: Возможно, предполагалась ссылка на столбец "c.client_id".
    Position: 21
    File: parse_relation.c
    Line: 3738
    Routine: errorMissingColumn
2024-08-14 15:55:10.318 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 1325.3332ms
2024-08-14 15:55:10.321 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 15:55:10.412 +03:00 [ERR] 42703: столбец c.client_id1 не существует

POSITION: 21
2024-08-14 15:55:10.420 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 500 in 1524.1664 ms
2024-08-14 15:55:10.428 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 500 null application/json 1561.2517ms
2024-08-14 15:57:40.638 +03:00 [INF] Application startup services registration
2024-08-14 15:57:41.504 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 15:57:41.593 +03:00 [INF] Application startup middleware registration
2024-08-14 15:57:42.586 +03:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:00:46.271 +03:00 [INF] Application startup services registration
2024-08-14 16:00:47.229 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:00:47.332 +03:00 [INF] Application startup middleware registration
2024-08-14 16:00:48.233 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:00:48.517 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:00:48.571 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:00:48.575 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:00:48.576 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:00:48.578 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:00:48.993 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:00:49.129 +03:00 [INF] Application Starting
2024-08-14 16:00:49.337 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:00:49.341 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:00:49.343 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:00:49.345 +03:00 [INF] Hosting environment: Development
2024-08-14 16:00:49.347 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:00:49.746 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:00:49.997 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 158.2723 ms
2024-08-14 16:00:50.002 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 260.218ms
2024-08-14 16:00:50.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:00:50.011 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:00:50.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 15.7417ms
2024-08-14 16:00:50.056 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.5141ms
2024-08-14 16:00:50.103 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:00:50.244 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 137.8653 ms
2024-08-14 16:00:50.247 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.3176ms
2024-08-14 16:00:54.934 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:00:54.974 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:00:54.998 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:00:55.174 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:00:55.485 +03:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c."ConnectSettingsSystemId", c."DBSettingsSystemId", c."KafkaSettingsSystemId", c."ModeSettingsSystemId"
FROM client_configuration AS c
2024-08-14 16:00:55.512 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42703: столбец c.ConnectSettingsSystemId не существует

POSITION: 21
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.ConnectSettingsSystemId не существует
    Position: 21
    File: parse_relation.c
    Line: 3727
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: столбец c.ConnectSettingsSystemId не существует

POSITION: 21
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.ConnectSettingsSystemId не существует
    Position: 21
    File: parse_relation.c
    Line: 3727
    Routine: errorMissingColumn
2024-08-14 16:00:55.669 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 654.9104ms
2024-08-14 16:00:55.671 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:00:55.724 +03:00 [ERR] 42703: столбец c.ConnectSettingsSystemId не существует

POSITION: 21
2024-08-14 16:00:55.736 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 796.0146 ms
2024-08-14 16:00:55.749 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 815.518ms
2024-08-14 16:13:50.214 +03:00 [INF] Application startup services registration
2024-08-14 16:13:51.146 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:13:51.261 +03:00 [INF] Application startup middleware registration
2024-08-14 16:13:52.227 +03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:14:47.433 +03:00 [INF] Application startup services registration
2024-08-14 16:14:48.485 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:14:48.602 +03:00 [INF] Application startup middleware registration
2024-08-14 16:14:49.563 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:14:49.801 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:14:49.850 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:14:49.854 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:14:49.858 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:14:49.860 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:14:50.017 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:14:50.138 +03:00 [INF] Application Starting
2024-08-14 16:14:50.276 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:14:50.277 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:14:50.279 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:14:50.280 +03:00 [INF] Hosting environment: Development
2024-08-14 16:14:50.282 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:14:51.311 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:14:51.608 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 191.2573 ms
2024-08-14 16:14:51.618 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 311.0484ms
2024-08-14 16:14:51.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:14:51.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:14:51.640 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 10.6877ms
2024-08-14 16:14:51.693 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.501ms
2024-08-14 16:14:51.744 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:14:51.902 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 146.0798 ms
2024-08-14 16:14:51.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.7179ms
2024-08-14 16:14:57.140 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:14:57.166 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:14:57.187 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:14:57.371 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:14:57.715 +03:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c."ConnectSettings_ClientId", c."ConnectSettings_SystemId", c.address_to_alarm, c.address_to_notify, c.database_type, c."DBSettings_SystemId", c.alarm_connection_string, c.notify_connection_string, c."KafkaSettings_SystemId", c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c."ModeSettings_SystemId", c.caching
FROM client_configuration AS c
2024-08-14 16:14:57.740 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42703: столбец c.ConnectSettings_ClientId не существует

POSITION: 21
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.ConnectSettings_ClientId не существует
    Position: 21
    File: parse_relation.c
    Line: 3727
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: столбец c.ConnectSettings_ClientId не существует

POSITION: 21
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.ConnectSettings_ClientId не существует
    Position: 21
    File: parse_relation.c
    Line: 3727
    Routine: errorMissingColumn
2024-08-14 16:14:57.923 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 720.3754ms
2024-08-14 16:14:57.926 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:14:57.977 +03:00 [ERR] 42703: столбец c.ConnectSettings_ClientId не существует

POSITION: 21
2024-08-14 16:14:57.983 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 837.2052 ms
2024-08-14 16:14:57.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 854.7739ms
2024-08-14 16:17:24.455 +03:00 [INF] Application startup services registration
2024-08-14 16:17:25.563 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:17:25.680 +03:00 [INF] Application startup middleware registration
2024-08-14 16:17:26.668 +03:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:17:26.984 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:17:27.067 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:17:27.069 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:17:27.071 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:17:27.073 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:17:27.251 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:17:27.395 +03:00 [INF] Application Starting
2024-08-14 16:17:27.565 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:17:27.567 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:17:27.569 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:17:27.570 +03:00 [INF] Hosting environment: Development
2024-08-14 16:17:27.572 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:17:28.066 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:17:28.349 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 169.3225 ms
2024-08-14 16:17:28.359 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:17:28.362 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:17:28.363 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 296.8691ms
2024-08-14 16:17:28.371 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 11.5062ms
2024-08-14 16:17:28.402 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.0364ms
2024-08-14 16:17:28.459 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:17:28.592 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 129.5373 ms
2024-08-14 16:17:28.595 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 135.8758ms
2024-08-14 16:17:32.628 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:17:32.662 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:17:32.689 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:17:32.863 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:17:33.306 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c."ConnectSettings_ClientId", c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:17:33.331 +03:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Npgsql.PostgresException (0x80004005): 42703: столбец c.ConnectSettings_ClientId не существует

POSITION: 21
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.ConnectSettings_ClientId не существует
    Position: 21
    File: parse_relation.c
    Line: 3727
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: столбец c.ConnectSettings_ClientId не существует

POSITION: 21
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async ValueTask<bool> Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable<T>+AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ОШИБКА
    SqlState: 42703
    MessageText: столбец c.ConnectSettings_ClientId не существует
    Position: 21
    File: parse_relation.c
    Line: 3727
    Routine: errorMissingColumn
2024-08-14 16:17:33.470 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 770.8783ms
2024-08-14 16:17:33.475 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:17:33.525 +03:00 [ERR] 42703: столбец c.ConnectSettings_ClientId не существует

POSITION: 21
2024-08-14 16:17:33.534 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 899.3219 ms
2024-08-14 16:17:33.546 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 918.9185ms
2024-08-14 16:19:07.702 +03:00 [INF] Application startup services registration
2024-08-14 16:19:08.543 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:19:08.659 +03:00 [INF] Application startup middleware registration
2024-08-14 16:19:09.523 +03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:19:09.764 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:19:09.815 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:19:09.817 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:19:09.819 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:19:09.822 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:19:10.034 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:19:10.170 +03:00 [INF] Application Starting
2024-08-14 16:19:10.367 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:19:10.536 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:19:10.591 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:19:10.593 +03:00 [INF] Hosting environment: Development
2024-08-14 16:19:10.595 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:19:10.766 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:19:11.049 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 155.0537 ms
2024-08-14 16:19:11.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 295.637ms
2024-08-14 16:19:11.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:19:11.069 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:19:11.097 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 27.7227ms
2024-08-14 16:19:11.119 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.4327ms
2024-08-14 16:19:11.177 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:19:11.303 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 123.0496 ms
2024-08-14 16:19:11.306 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.3555ms
2024-08-14 16:19:20.006 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:19:20.048 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:19:20.106 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:19:20.452 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:19:21.041 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:19:21.439 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1314.8507ms
2024-08-14 16:19:21.443 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:19:21.491 +03:00 [ERR] Missing map from Domain.Settings.SignalRClient.ClientSettings to Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO. Create using CreateMap<ClientSettings, ConfigClientLookupDTO>.
2024-08-14 16:19:21.515 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 1503.0842 ms
2024-08-14 16:19:21.538 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1533.6141ms
2024-08-14 16:20:00.596 +03:00 [INF] Application startup services registration
2024-08-14 16:20:01.209 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:20:01.331 +03:00 [INF] Application startup middleware registration
2024-08-14 16:20:02.245 +03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:20:02.488 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:20:02.532 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:20:02.534 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:20:02.536 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:20:02.539 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:20:02.693 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:20:02.782 +03:00 [INF] Application Starting
2024-08-14 16:20:02.880 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:20:02.881 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:20:02.882 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:20:02.883 +03:00 [INF] Hosting environment: Development
2024-08-14 16:20:02.884 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:20:03.518 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:20:03.766 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 154.0281 ms
2024-08-14 16:20:03.773 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 261.0452ms
2024-08-14 16:20:03.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:20:03.782 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:20:03.792 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 10.0122ms
2024-08-14 16:20:03.831 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.7462ms
2024-08-14 16:20:03.883 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:20:04.062 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 173.3032 ms
2024-08-14 16:20:04.065 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 182.3581ms
2024-08-14 16:20:07.452 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:20:07.484 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:20:07.510 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:20:07.767 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:20:08.223 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:20:08.583 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1060.8526ms
2024-08-14 16:20:08.586 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:20:08.628 +03:00 [ERR] Missing map from Domain.Settings.SignalRClient.ClientSettings to Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO. Create using CreateMap<ClientSettings, ConfigClientLookupDTO>.
2024-08-14 16:20:08.649 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 1193.1250 ms
2024-08-14 16:20:08.664 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1212.2701ms
2024-08-14 16:21:39.338 +03:00 [INF] Application startup services registration
2024-08-14 16:21:40.305 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:21:40.413 +03:00 [INF] Application startup middleware registration
2024-08-14 16:21:41.258 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:21:41.495 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:21:41.547 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:21:41.551 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:21:41.552 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:21:41.555 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:21:41.740 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:21:41.928 +03:00 [INF] Application Starting
2024-08-14 16:21:42.046 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:21:42.048 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:21:42.050 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:21:42.051 +03:00 [INF] Hosting environment: Development
2024-08-14 16:21:42.053 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:21:42.383 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:21:42.702 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 202.8560 ms
2024-08-14 16:21:42.732 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:21:42.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:21:42.736 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 343.1519ms
2024-08-14 16:21:42.763 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 29.4018ms
2024-08-14 16:21:42.783 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.3963ms
2024-08-14 16:21:42.826 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:21:42.953 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 124.4310 ms
2024-08-14 16:21:42.956 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.2888ms
2024-08-14 16:21:45.145 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:21:45.162 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:21:45.178 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:21:45.266 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:21:45.493 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:21:45.759 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 483.2619ms.
2024-08-14 16:21:45.792 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:21:45.811 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 626.0894ms
2024-08-14 16:21:45.813 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:21:45.814 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 665.8684 ms
2024-08-14 16:21:45.824 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 679.1592ms
2024-08-14 16:21:52.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:21:52.754 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:21:52.756 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:21:52.759 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:21:52.775 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:21:52.801 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 39.5555ms.
2024-08-14 16:21:52.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:21:52.820 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 61.9491ms
2024-08-14 16:21:52.829 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:21:52.833 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 81.9620 ms
2024-08-14 16:21:52.848 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 100.0444ms
2024-08-14 16:22:06.183 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:22:06.195 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:22:06.225 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:22:06.268 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:22:06.720 +03:00 [INF] Executed DbCommand (21ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:22:06.770 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 496.3924ms.
2024-08-14 16:22:06.779 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:22:06.805 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 572.9863ms
2024-08-14 16:22:06.815 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:22:06.820 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 625.7408 ms
2024-08-14 16:22:06.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 644.7296ms
2024-08-14 16:24:06.408 +03:00 [INF] Application startup services registration
2024-08-14 16:24:07.365 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:24:07.447 +03:00 [INF] Application startup middleware registration
2024-08-14 16:24:08.359 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:24:08.652 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:24:08.722 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:24:08.726 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:24:08.727 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:24:08.729 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:24:08.955 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:24:09.062 +03:00 [INF] Application Starting
2024-08-14 16:24:09.261 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:24:09.263 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:24:09.264 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:24:09.265 +03:00 [INF] Hosting environment: Development
2024-08-14 16:24:09.267 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:24:09.975 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:24:10.433 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 205.6232 ms
2024-08-14 16:24:10.446 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 471.5259ms
2024-08-14 16:24:10.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:24:10.458 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:24:10.475 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 16.4587ms
2024-08-14 16:24:10.508 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.1701ms
2024-08-14 16:24:10.569 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:24:10.727 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 155.1748 ms
2024-08-14 16:24:10.730 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.0458ms
2024-08-14 16:24:15.854 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:24:15.889 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:24:15.917 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:24:16.091 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:24:16.505 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:24:16.730 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 633.2093ms.
2024-08-14 16:24:16.745 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:24:16.772 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 833.7496ms
2024-08-14 16:24:16.775 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:24:16.777 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 912.8827 ms
2024-08-14 16:24:16.785 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 932.4599ms
2024-08-14 16:24:38.119 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2024-08-14 16:24:38.132 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:24:38.147 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:24:38.183 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:24:38.618 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:24:38.808 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 655.0215ms
2024-08-14 16:24:38.813 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:24:38.890 +03:00 [ERR] Configuration Not Found.
2024-08-14 16:24:38.903 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 400 in 774.5238 ms
2024-08-14 16:24:38.910 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 400 null application/json 791.0081ms
2024-08-14 16:25:05.553 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:25:05.561 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:25:05.563 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:25:05.567 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:25:05.583 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:25:05.604 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.3422ms.
2024-08-14 16:25:05.608 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:25:05.619 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 54.0866ms
2024-08-14 16:25:05.621 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:25:05.623 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 62.2169 ms
2024-08-14 16:25:05.627 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 74.3101ms
2024-08-14 16:25:33.901 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 683
2024-08-14 16:25:33.931 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:25:33.936 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:25:33.947 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:25:34.043 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-08-14 16:25:34.063 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 108.2932ms
2024-08-14 16:25:34.064 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:25:34.066 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 137.6017 ms
2024-08-14 16:25:34.068 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json; charset=utf-8 167.9796ms
2024-08-14 16:26:38.584 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:26:38.593 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:26:38.597 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:26:38.603 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:26:38.614 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:26:38.624 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 19.2478ms.
2024-08-14 16:26:38.629 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:26:38.631 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 29.4116ms
2024-08-14 16:26:38.633 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:26:38.634 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 44.7967 ms
2024-08-14 16:26:38.636 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 52.4053ms
2024-08-14 16:27:20.068 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 611
2024-08-14 16:27:20.088 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:27:20.091 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:27:20.095 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:27:20.116 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-08-14 16:27:20.121 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 10.2565ms
2024-08-14 16:27:20.130 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:27:20.131 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 44.5402 ms
2024-08-14 16:27:20.133 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json; charset=utf-8 67.6754ms
2024-08-14 16:27:34.230 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 596
2024-08-14 16:27:34.232 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:27:34.233 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:27:34.233 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:27:34.243 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 16:27:34.326 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 89.9124ms
2024-08-14 16:27:34.327 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:27:34.350 +03:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
CreateClientConfigDTO -> CreateConfigClientCommand
WebAPI.Models.Config.CreateClientConfigDTO -> Application.Features.Configurations.Client.Commands.CreateConfig.CreateConfigClientCommand
2024-08-14 16:27:34.353 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 120.8833 ms
2024-08-14 16:27:34.355 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 125.3235ms
2024-08-14 16:35:21.558 +03:00 [INF] Application startup services registration
2024-08-14 16:35:22.395 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:35:22.506 +03:00 [INF] Application startup middleware registration
2024-08-14 16:35:23.440 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:35:23.706 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:35:23.753 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:35:23.756 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:35:23.758 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:35:23.760 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:35:23.965 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:35:24.061 +03:00 [INF] Application Starting
2024-08-14 16:35:24.186 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:35:24.187 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:35:24.188 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:35:24.189 +03:00 [INF] Hosting environment: Development
2024-08-14 16:35:24.190 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:35:24.768 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:35:25.015 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 158.4114 ms
2024-08-14 16:35:25.024 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 259.3214ms
2024-08-14 16:35:25.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:35:25.032 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:35:25.047 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 14.7302ms
2024-08-14 16:35:25.072 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.3556ms
2024-08-14 16:35:25.121 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:35:25.265 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 140.3693 ms
2024-08-14 16:35:25.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.9258ms
2024-08-14 16:35:29.592 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:35:29.623 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:35:29.656 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:35:29.855 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:35:30.304 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:35:30.538 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 677.9673ms.
2024-08-14 16:35:30.556 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:35:30.576 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 908.6853ms
2024-08-14 16:35:30.578 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:35:30.581 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 984.6071 ms
2024-08-14 16:35:30.587 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 995.4358ms
2024-08-14 16:35:41.272 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:35:41.290 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:35:41.323 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:35:41.371 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:35:41.741 +03:00 [INF] Executed DbCommand (22ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:35:41.781 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 405.3142ms.
2024-08-14 16:35:41.786 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:35:41.800 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 470.9119ms
2024-08-14 16:35:41.805 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:35:41.807 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 524.5403 ms
2024-08-14 16:35:41.813 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 545.5145ms
2024-08-14 16:36:05.457 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 16:36:05.473 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:36:05.478 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:36:05.491 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:36:05.568 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 16:36:05.805 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 307.353ms
2024-08-14 16:36:05.809 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:36:05.867 +03:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
CreateClientConfigDTO -> CreateConfigClientCommand
WebAPI.Models.Config.CreateClientConfigDTO -> Application.Features.Configurations.Client.Commands.CreateConfig.CreateConfigClientCommand
2024-08-14 16:36:05.879 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 408.8637 ms
2024-08-14 16:36:05.882 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 426.0741ms
2024-08-14 16:38:28.482 +03:00 [INF] Application startup services registration
2024-08-14 16:38:29.244 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:38:29.339 +03:00 [INF] Application startup middleware registration
2024-08-14 16:38:30.213 +03:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:38:30.455 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:38:30.499 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:38:30.503 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:38:30.505 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:38:30.506 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:38:30.692 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:38:30.810 +03:00 [INF] Application Starting
2024-08-14 16:38:30.950 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:38:30.951 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:38:30.953 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:38:30.954 +03:00 [INF] Hosting environment: Development
2024-08-14 16:38:30.955 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:38:31.730 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:38:31.949 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 130.0063 ms
2024-08-14 16:38:31.959 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 230.9642ms
2024-08-14 16:38:31.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:38:31.959 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:38:31.983 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 24.4945ms
2024-08-14 16:38:32.005 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.3592ms
2024-08-14 16:38:32.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:38:32.185 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 136.9768 ms
2024-08-14 16:38:32.188 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.6718ms
2024-08-14 16:38:37.980 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:38:38.010 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:38:38.030 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:38:38.198 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:38:38.549 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:38:38.783 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 579.5538ms.
2024-08-14 16:38:38.793 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:38:38.811 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 771.0005ms
2024-08-14 16:38:38.814 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:38:38.816 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 827.4248 ms
2024-08-14 16:38:38.823 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 843.3255ms
2024-08-14 16:38:59.463 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:38:59.493 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:38:59.499 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:38:59.508 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:38:59.539 +03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:38:59.570 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 56.692ms.
2024-08-14 16:38:59.578 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:38:59.585 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 78.3132ms
2024-08-14 16:38:59.588 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:38:59.590 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 101.3827 ms
2024-08-14 16:38:59.595 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 132.5157ms
2024-08-14 16:39:16.747 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2024-08-14 16:39:16.764 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:39:16.795 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:39:16.869 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:39:17.266 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:39:17.477 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 671.0084ms
2024-08-14 16:39:17.480 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:39:17.505 +03:00 [ERR] Configuration Not Found.
2024-08-14 16:39:17.514 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/3fa85f64-5717-4562-b3fc-2c963f66afa6 responded 400 in 750.4354 ms
2024-08-14 16:39:17.516 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/3fa85f64-5717-4562-b3fc-2c963f66afa6 - 400 null application/json 769.3285ms
2024-08-14 16:39:32.046 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:39:32.053 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:39:32.056 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:39:32.062 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:39:32.073 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:39:32.087 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.1831ms.
2024-08-14 16:39:32.092 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:39:32.096 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 35.5077ms
2024-08-14 16:39:32.099 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:39:32.101 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 48.2792 ms
2024-08-14 16:39:32.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 57.1547ms
2024-08-14 16:39:39.824 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:39:39.829 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:39:39.831 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:39:39.840 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:39:39.866 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:39:39.885 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 42.3481ms.
2024-08-14 16:39:39.890 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:39:39.900 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 64.5289ms
2024-08-14 16:39:39.901 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:39:39.903 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 74.6244 ms
2024-08-14 16:39:39.905 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 81.3008ms
2024-08-14 16:40:31.298 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 16:40:31.319 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:40:31.321 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:40:31.327 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:40:31.356 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 16:40:31.397 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 67.4753ms
2024-08-14 16:40:31.399 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:40:31.422 +03:00 [ERR] CreateClientConfigDTO does not implement IRequest (Parameter 'request')
2024-08-14 16:40:31.425 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 107.7649 ms
2024-08-14 16:40:31.429 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 130.9113ms
2024-08-14 16:43:45.029 +03:00 [INF] Application startup services registration
2024-08-14 16:43:48.478 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:43:48.714 +03:00 [INF] Application startup middleware registration
2024-08-14 16:43:50.995 +03:00 [INF] Executed DbCommand (111ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:43:51.754 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:43:51.976 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:43:51.978 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:43:51.980 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:43:51.982 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:43:52.278 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:43:52.521 +03:00 [INF] Application Starting
2024-08-14 16:43:52.720 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:43:52.722 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:43:52.724 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:43:52.727 +03:00 [INF] Hosting environment: Development
2024-08-14 16:43:52.728 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:43:53.240 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:43:55.130 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1769.7766 ms
2024-08-14 16:43:55.141 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 1905.6505ms
2024-08-14 16:43:55.148 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:43:55.149 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:43:55.160 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 12.5163ms
2024-08-14 16:43:55.203 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.6373ms
2024-08-14 16:43:55.247 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:43:55.485 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 235.0936 ms
2024-08-14 16:43:55.488 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 241.5349ms
2024-08-14 16:44:01.961 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:44:01.998 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:44:02.040 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:44:02.220 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:44:02.638 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:44:02.932 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 704.5591ms.
2024-08-14 16:44:02.954 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:44:02.988 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 922.9307ms
2024-08-14 16:44:02.992 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:44:02.995 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 1030.1283 ms
2024-08-14 16:44:03.009 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 1048.2866ms
2024-08-14 16:44:20.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:44:20.105 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:44:20.137 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:44:20.190 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:44:20.528 +03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:44:20.556 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 362.442ms.
2024-08-14 16:44:20.562 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:44:20.577 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 434.2053ms
2024-08-14 16:44:20.580 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:44:20.582 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 481.1528 ms
2024-08-14 16:44:20.585 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 505.9107ms
2024-08-14 16:44:50.529 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 16:44:50.544 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:44:50.547 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:44:50.557 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:44:50.623 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 16:44:50.703 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 136.0189ms
2024-08-14 16:44:50.706 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:44:50.727 +03:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
CreateClientConfigDTO -> CreateConfigClientCommand
WebAPI.Models.Config.CreateClientConfigDTO -> Application.Features.Configurations.Client.Commands.CreateConfig.CreateConfigClientCommand
2024-08-14 16:44:50.738 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 196.8624 ms
2024-08-14 16:44:50.742 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 213.0812ms
2024-08-14 16:48:10.075 +03:00 [INF] Application startup services registration
2024-08-14 16:48:10.884 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:48:10.971 +03:00 [INF] Application startup middleware registration
2024-08-14 16:48:11.854 +03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:48:12.115 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:48:12.164 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:48:12.166 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:48:12.168 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:48:12.170 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:48:12.362 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:48:12.491 +03:00 [INF] Application Starting
2024-08-14 16:48:12.619 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:48:12.620 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:48:12.621 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:48:12.623 +03:00 [INF] Hosting environment: Development
2024-08-14 16:48:12.624 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:48:13.325 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:48:13.620 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 186.2338 ms
2024-08-14 16:48:13.629 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:48:13.630 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:48:13.633 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 308.1658ms
2024-08-14 16:48:13.647 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 17.3728ms
2024-08-14 16:48:13.687 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.9037ms
2024-08-14 16:48:13.728 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:48:13.865 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 132.3404 ms
2024-08-14 16:48:13.867 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 139.1408ms
2024-08-14 16:48:19.712 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:48:19.733 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:48:19.758 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:48:19.919 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:48:20.374 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:48:20.642 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 717.1913ms.
2024-08-14 16:48:20.655 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:48:20.677 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 908.5099ms
2024-08-14 16:48:20.680 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:48:20.682 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 966.7697 ms
2024-08-14 16:48:20.689 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 976.7524ms
2024-08-14 16:48:29.009 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:48:29.016 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:48:29.039 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:48:29.081 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:48:29.236 +03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:48:29.251 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 165.7865ms.
2024-08-14 16:48:29.254 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:48:29.262 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 216.6589ms
2024-08-14 16:48:29.264 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:48:29.264 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 252.2180 ms
2024-08-14 16:48:29.268 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 259.2381ms
2024-08-14 16:48:52.881 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 16:48:52.906 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:48:52.911 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:48:52.927 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:48:56.334 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 16:48:59.829 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 6892.227ms
2024-08-14 16:48:59.833 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 16:48:59.867 +03:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
CreateClientConfigDTO -> CreateConfigClientCommand
WebAPI.Models.Config.CreateClientConfigDTO -> Application.Features.Configurations.Client.Commands.CreateConfig.CreateConfigClientCommand
2024-08-14 16:48:59.892 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 6991.4211 ms
2024-08-14 16:48:59.899 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 7017.8677ms
2024-08-14 16:56:25.841 +03:00 [INF] Application startup services registration
2024-08-14 16:56:26.607 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 16:56:26.690 +03:00 [INF] Application startup middleware registration
2024-08-14 16:56:27.803 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:56:28.113 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:56:28.170 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:56:28.172 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:56:28.173 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:56:28.174 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 16:56:28.339 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 16:56:28.491 +03:00 [INF] Application Starting
2024-08-14 16:56:28.587 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 16:56:28.588 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 16:56:28.589 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 16:56:28.590 +03:00 [INF] Hosting environment: Development
2024-08-14 16:56:28.591 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 16:56:29.398 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 16:56:29.687 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 149.3918 ms
2024-08-14 16:56:29.701 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 303.2181ms
2024-08-14 16:56:29.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 16:56:29.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 16:56:29.721 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 18.1292ms
2024-08-14 16:56:29.769 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.9285ms
2024-08-14 16:56:29.814 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 16:56:29.981 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 165.0197 ms
2024-08-14 16:56:29.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.647ms
2024-08-14 16:56:36.120 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 16:56:36.144 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:56:36.159 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:56:36.241 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 16:56:36.442 +03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 16:56:36.568 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 322.8784ms.
2024-08-14 16:56:36.601 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 16:56:36.616 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 450.2376ms
2024-08-14 16:56:36.620 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 16:56:36.623 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 490.4066 ms
2024-08-14 16:56:36.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 508.7468ms
2024-08-14 16:56:46.425 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 16:56:46.432 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:56:46.442 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:56:46.471 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 16:56:46.581 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 16:56:46.600 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 120.2023ms.
2024-08-14 16:56:46.604 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 16:56:46.611 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 166.757ms
2024-08-14 16:56:46.613 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 16:56:46.614 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 184.1196 ms
2024-08-14 16:56:46.617 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 191.7111ms
2024-08-14 16:57:18.871 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 596
2024-08-14 16:57:18.882 +03:00 [INF] CORS policy execution successful.
2024-08-14 16:57:18.884 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Update (WebAPI)'
2024-08-14 16:57:18.890 +03:00 [INF] Route matched with {action = "Update", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(WebAPI.Models.Config.UpdateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 16:57:18.929 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Update (WebAPI) - Validation state: "Valid"
2024-08-14 16:57:19.059 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Update (WebAPI) in 164.1434ms
2024-08-14 16:57:19.061 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Update (WebAPI)'
2024-08-14 16:57:19.089 +03:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
UpdateClientConfigDTO -> UpdateConfigClientCommand
WebAPI.Models.Config.UpdateClientConfigDTO -> Application.Features.Configurations.Client.Commands.UpdateConfig.UpdateConfigClientCommand
2024-08-14 16:57:19.098 +03:00 [ERR] HTTP PUT /api/v1/client/configure/ClientConfig responded 500 in 216.9520 ms
2024-08-14 16:57:19.103 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 231.983ms
2024-08-14 17:10:11.435 +03:00 [INF] Application startup services registration
2024-08-14 17:10:12.574 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:10:12.680 +03:00 [INF] Application startup middleware registration
2024-08-14 17:10:13.600 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:10:13.998 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:10:14.108 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:10:14.110 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:10:14.112 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:10:14.114 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:10:14.292 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:10:14.400 +03:00 [INF] Application Starting
2024-08-14 17:10:14.552 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:10:14.554 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:10:14.555 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:10:14.556 +03:00 [INF] Hosting environment: Development
2024-08-14 17:10:14.557 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:10:15.090 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:10:15.346 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 167.5448 ms
2024-08-14 17:10:15.354 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 268.3438ms
2024-08-14 17:10:15.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:10:15.374 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:10:15.395 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 20.93ms
2024-08-14 17:10:15.423 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1997ms
2024-08-14 17:10:15.465 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:10:15.618 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 149.9634 ms
2024-08-14 17:10:15.621 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.297ms
2024-08-14 17:10:22.440 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:10:22.482 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:10:22.549 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:10:22.628 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 41.3605ms
2024-08-14 17:10:22.633 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:10:22.684 +03:00 [ERR] Cannot dynamically create an instance of type 'Application.Mappings.AssemblyMappingProfile'. Reason: No parameterless constructor defined.
2024-08-14 17:10:22.706 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 260.3329 ms
2024-08-14 17:10:22.715 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 274.4422ms
2024-08-14 17:10:54.220 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:10:54.231 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:10:54.232 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:10:54.236 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1.5178ms
2024-08-14 17:10:54.239 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:10:54.255 +03:00 [ERR] Cannot dynamically create an instance of type 'Application.Mappings.AssemblyMappingProfile'. Reason: No parameterless constructor defined.
2024-08-14 17:10:54.257 +03:00 [ERR] HTTP GET /api/v1/client/configure/ClientConfig responded 500 in 28.2718 ms
2024-08-14 17:10:54.263 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 45.11ms
2024-08-14 17:13:58.727 +03:00 [INF] Application startup services registration
2024-08-14 17:13:59.761 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:13:59.889 +03:00 [INF] Application startup middleware registration
2024-08-14 17:14:00.844 +03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:14:01.302 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:14:01.356 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:14:01.359 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:14:01.362 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:14:01.363 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:14:01.519 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:14:01.675 +03:00 [INF] Application Starting
2024-08-14 17:14:01.817 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:14:01.818 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:14:01.821 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:14:01.822 +03:00 [INF] Hosting environment: Development
2024-08-14 17:14:01.824 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:14:02.255 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:14:02.524 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 159.4739 ms
2024-08-14 17:14:02.539 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 287.4823ms
2024-08-14 17:14:02.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:14:02.551 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:14:02.562 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 12.081ms
2024-08-14 17:14:02.595 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.844ms
2024-08-14 17:14:02.644 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:14:02.797 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 149.7701 ms
2024-08-14 17:14:02.800 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 156.1434ms
2024-08-14 17:14:06.453 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:14:06.479 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:14:06.510 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:14:06.800 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:14:07.235 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:14:07.468 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 661.248ms.
2024-08-14 17:14:07.479 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:14:07.501 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 975.8065ms
2024-08-14 17:14:07.503 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:14:07.508 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 1051.3460 ms
2024-08-14 17:14:07.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 1062.9549ms
2024-08-14 17:14:18.703 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:14:18.713 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:14:18.738 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:14:18.797 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:14:18.970 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:14:18.990 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 188.1076ms.
2024-08-14 17:14:18.994 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:14:19.005 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 259.4308ms
2024-08-14 17:14:19.006 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:14:19.008 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 296.8577 ms
2024-08-14 17:14:19.010 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 307.5323ms
2024-08-14 17:14:50.063 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:14:50.072 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:14:50.075 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:14:50.079 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:14:50.096 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:14:50.108 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.019ms.
2024-08-14 17:14:50.111 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:14:50.114 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 36.6796ms
2024-08-14 17:14:50.116 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:14:50.118 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 46.2044 ms
2024-08-14 17:14:50.121 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 58.0404ms
2024-08-14 17:15:05.641 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 591
2024-08-14 17:15:05.646 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:15:05.648 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:15:05.661 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:15:05.759 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:15:06.283 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 614.6479ms
2024-08-14 17:15:06.286 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:15:06.317 +03:00 [ERR] Cannot create a DbSet for 'ServerSettings' because this type is not included in the model for the context.
2024-08-14 17:15:06.333 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 688.5997 ms
2024-08-14 17:15:06.343 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 701.5704ms
2024-08-14 17:16:52.619 +03:00 [INF] Application startup services registration
2024-08-14 17:16:53.765 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:16:53.893 +03:00 [INF] Application startup middleware registration
2024-08-14 17:16:55.058 +03:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:16:55.359 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:16:55.469 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:16:55.470 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:16:55.472 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:16:55.473 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:16:55.665 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:16:55.745 +03:00 [INF] Application Starting
2024-08-14 17:16:55.940 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:16:55.942 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:16:55.943 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:16:55.945 +03:00 [INF] Hosting environment: Development
2024-08-14 17:16:55.946 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:16:56.648 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:16:56.962 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 209.7525 ms
2024-08-14 17:16:56.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 325.4113ms
2024-08-14 17:16:56.981 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:16:56.982 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:16:56.998 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 16.815ms
2024-08-14 17:16:57.025 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.9568ms
2024-08-14 17:16:57.065 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:16:57.221 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 153.1154 ms
2024-08-14 17:16:57.224 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.9017ms
2024-08-14 17:17:01.821 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:17:01.880 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:17:01.926 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:17:02.345 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:17:02.981 +03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:17:03.441 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1090.4516ms.
2024-08-14 17:17:03.454 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:17:03.490 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1548.6102ms
2024-08-14 17:17:03.495 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:17:03.500 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 1667.6375 ms
2024-08-14 17:17:03.519 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 1699.148ms
2024-08-14 17:17:14.326 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:17:14.338 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:17:14.374 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:17:14.440 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:17:14.777 +03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:17:14.808 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 363.5915ms.
2024-08-14 17:17:14.817 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:17:14.852 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 467.81ms
2024-08-14 17:17:14.863 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:17:14.866 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 531.8747 ms
2024-08-14 17:17:14.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 552.1062ms
2024-08-14 17:17:37.205 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 17:17:37.213 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:17:37.216 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:17:37.227 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:17:37.271 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:17:37.376 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:17:37.660 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 428.9497ms
2024-08-14 17:17:37.669 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:17:37.757 +03:00 [ERR] One or more validation failures have occurred.
2024-08-14 17:17:37.768 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 557.3634 ms
2024-08-14 17:17:37.775 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json 573.936ms
2024-08-14 17:18:10.026 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 17:18:10.039 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:18:10.041 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:18:10.049 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:18:10.064 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:18:10.088 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:18:10.102 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:18:10.296 +03:00 [ERR] Failed executing DbCommand (29ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:18:10.314 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:18:10.596 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 536.9204ms
2024-08-14 17:18:10.601 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:18:10.707 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:18:10.709 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 672.0054 ms
2024-08-14 17:18:10.711 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 687.3623ms
2024-08-14 17:20:02.846 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 17:20:02.905 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:20:02.908 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:20:02.910 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:20:02.919 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:20:02.930 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:20:05.876 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:20:22.060 +03:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:20:22.088 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:20:22.249 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 19333.8825ms
2024-08-14 17:20:22.252 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:20:22.324 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:20:22.328 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 19424.0955 ms
2024-08-14 17:20:22.345 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 19499.3044ms
2024-08-14 17:25:43.462 +03:00 [INF] Application startup services registration
2024-08-14 17:25:44.280 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:25:44.371 +03:00 [INF] Application startup middleware registration
2024-08-14 17:25:45.340 +03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:25:45.705 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:25:45.761 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:25:45.763 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:25:45.765 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:25:45.767 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:25:45.960 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:25:46.067 +03:00 [INF] Application Starting
2024-08-14 17:25:46.247 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:25:46.249 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:25:46.251 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:25:46.253 +03:00 [INF] Hosting environment: Development
2024-08-14 17:25:46.255 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:25:46.909 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:25:47.214 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 169.3525 ms
2024-08-14 17:25:47.225 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 317.0544ms
2024-08-14 17:25:47.225 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:25:47.225 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:25:47.239 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 14.2358ms
2024-08-14 17:25:47.267 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.5176ms
2024-08-14 17:25:47.303 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:25:47.443 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 137.3729 ms
2024-08-14 17:25:47.447 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.0053ms
2024-08-14 17:25:52.709 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:25:52.725 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:25:52.737 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:25:52.840 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:25:53.081 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:25:53.234 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 385.8301ms.
2024-08-14 17:25:53.257 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:25:53.290 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 546.0645ms
2024-08-14 17:25:53.295 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:25:53.298 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 583.5086 ms
2024-08-14 17:25:53.304 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 594.7689ms
2024-08-14 17:26:04.928 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:26:04.933 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:26:04.943 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:26:04.984 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:26:05.082 +03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:26:05.096 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 107.847ms.
2024-08-14 17:26:05.099 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:26:05.107 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 158.2057ms
2024-08-14 17:26:05.109 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:26:05.111 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 179.4841 ms
2024-08-14 17:26:05.114 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 186.4708ms
2024-08-14 17:26:34.261 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 596
2024-08-14 17:26:34.270 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:26:34.272 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Update (WebAPI)'
2024-08-14 17:26:34.276 +03:00 [INF] Route matched with {action = "Update", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(WebAPI.Models.Config.UpdateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:26:34.315 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Update (WebAPI) - Validation state: "Valid"
2024-08-14 17:26:34.330 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:26:34.789 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Update (WebAPI) in 506.3878ms
2024-08-14 17:26:34.792 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Update (WebAPI)'
2024-08-14 17:26:34.864 +03:00 [ERR] The instance of entity type 'ClientSettings' cannot be tracked because another instance with the same key value for {'SystemId'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
2024-08-14 17:26:34.877 +03:00 [ERR] HTTP PUT /api/v1/client/configure/ClientConfig responded 500 in 607.6459 ms
2024-08-14 17:26:34.883 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 621.9877ms
2024-08-14 17:30:53.237 +03:00 [INF] Application startup services registration
2024-08-14 17:30:54.081 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:30:54.169 +03:00 [INF] Application startup middleware registration
2024-08-14 17:30:55.159 +03:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:30:55.433 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:30:55.491 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:30:55.493 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:30:55.495 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:30:55.496 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:30:55.640 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:30:55.720 +03:00 [INF] Application Starting
2024-08-14 17:30:55.824 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:30:55.825 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:30:55.827 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:30:55.828 +03:00 [INF] Hosting environment: Development
2024-08-14 17:30:55.829 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:30:56.721 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:30:56.960 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 158.9796 ms
2024-08-14 17:30:56.972 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 250.5103ms
2024-08-14 17:30:56.977 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:30:56.978 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:30:56.986 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 9.2293ms
2024-08-14 17:30:57.021 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.5674ms
2024-08-14 17:30:57.071 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:30:57.217 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 141.8175 ms
2024-08-14 17:30:57.220 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 149.3379ms
2024-08-14 17:31:03.040 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:31:03.062 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:31:03.086 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:31:03.341 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:31:04.000 +03:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:31:04.249 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 900.8874ms.
2024-08-14 17:31:04.265 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:31:04.283 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1189.604ms
2024-08-14 17:31:04.285 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:31:04.286 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 1240.0968 ms
2024-08-14 17:31:04.293 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 1253.172ms
2024-08-14 17:31:17.290 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:31:17.301 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:31:17.323 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:31:17.377 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:31:17.575 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:31:17.606 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 224.9816ms.
2024-08-14 17:31:17.612 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:31:17.621 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 289.9289ms
2024-08-14 17:31:17.623 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:31:17.624 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 325.6944 ms
2024-08-14 17:31:17.627 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 336.2003ms
2024-08-14 17:31:43.098 +03:00 [INF] Request starting HTTP/2 PUT https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 596
2024-08-14 17:31:43.127 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:31:43.133 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Update (WebAPI)'
2024-08-14 17:31:43.157 +03:00 [INF] Route matched with {action = "Update", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(WebAPI.Models.Config.UpdateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:31:43.291 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Update (WebAPI) - Validation state: "Valid"
2024-08-14 17:31:43.324 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:31:43.594 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?', @p1='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE client_configuration SET mode = @p0, caching = @p1
WHERE client_id = @p2;
2024-08-14 17:31:43.612 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Update (WebAPI), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 316.9245ms.
2024-08-14 17:31:43.616 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-08-14 17:31:43.618 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Update (WebAPI) in 451.0953ms
2024-08-14 17:31:43.619 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Update (WebAPI)'
2024-08-14 17:31:43.620 +03:00 [INF] HTTP PUT /api/v1/client/configure/ClientConfig responded 204 in 495.7367 ms
2024-08-14 17:31:43.624 +03:00 [INF] Request finished HTTP/2 PUT https://localhost:7098/api/v1/client/configure/ClientConfig - 204 null null 525.631ms
2024-08-14 17:32:05.342 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 595
2024-08-14 17:32:05.355 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:32:05.363 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:32:05.383 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:32:05.432 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:32:05.549 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:32:05.618 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:34:49.281 +03:00 [INF] Application startup services registration
2024-08-14 17:34:53.125 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:34:53.359 +03:00 [INF] Application startup middleware registration
2024-08-14 17:34:55.814 +03:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:34:56.682 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:34:56.864 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:34:56.866 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:34:56.867 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:34:56.869 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:34:57.151 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:34:57.421 +03:00 [INF] Application Starting
2024-08-14 17:34:57.649 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:34:57.651 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:34:57.654 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:34:57.655 +03:00 [INF] Hosting environment: Development
2024-08-14 17:34:57.656 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:34:58.138 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:34:59.963 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 1699.0380 ms
2024-08-14 17:34:59.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:34:59.971 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:34:59.984 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 1848.2288ms
2024-08-14 17:34:59.994 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 23.8752ms
2024-08-14 17:35:00.042 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 72.3477ms
2024-08-14 17:35:00.093 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:35:00.463 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 366.6037 ms
2024-08-14 17:35:00.469 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 377.0798ms
2024-08-14 17:35:05.855 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:35:05.916 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:35:05.948 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:35:06.368 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:35:06.759 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:35:07.058 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 684.2346ms.
2024-08-14 17:35:07.073 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:35:07.089 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 1130.9873ms
2024-08-14 17:35:07.091 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:35:07.093 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 1222.8172 ms
2024-08-14 17:35:07.100 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 1248.0824ms
2024-08-14 17:35:15.324 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:35:15.336 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:35:15.370 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:35:15.428 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:35:15.679 +03:00 [INF] Executed DbCommand (17ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:35:15.698 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 264.7663ms.
2024-08-14 17:35:15.704 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:35:15.714 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 333.8936ms
2024-08-14 17:35:15.718 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:35:15.719 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 386.5818 ms
2024-08-14 17:35:15.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 397.9854ms
2024-08-14 17:35:40.679 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 596
2024-08-14 17:35:40.702 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:35:40.705 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:35:40.718 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:35:40.808 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:35:40.875 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:35:40.887 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:35:47.581 +03:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:35:47.648 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:35:47.915 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 7179.7234ms
2024-08-14 17:35:47.920 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:35:47.981 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:35:47.986 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 7287.4610 ms
2024-08-14 17:35:47.991 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 7311.7496ms
2024-08-14 17:40:46.671 +03:00 [INF] Application startup services registration
2024-08-14 17:40:47.741 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:40:47.858 +03:00 [INF] Application startup middleware registration
2024-08-14 17:40:48.883 +03:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:40:49.360 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:40:49.416 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:40:49.419 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:40:49.421 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:40:49.422 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:40:49.594 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:40:49.704 +03:00 [INF] Application Starting
2024-08-14 17:40:49.830 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:40:49.831 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:40:49.833 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:40:49.834 +03:00 [INF] Hosting environment: Development
2024-08-14 17:40:49.835 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:40:50.567 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:40:50.816 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 152.5895 ms
2024-08-14 17:40:50.843 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 271.8602ms
2024-08-14 17:40:50.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:40:50.843 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:40:50.874 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 30.8217ms
2024-08-14 17:40:50.902 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 59.2738ms
2024-08-14 17:40:50.944 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:40:51.096 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 149.7568 ms
2024-08-14 17:40:51.099 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.7293ms
2024-08-14 17:40:57.851 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:40:57.869 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:40:57.885 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:40:58.052 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:40:58.387 +03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:40:58.580 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 518.5659ms.
2024-08-14 17:40:58.589 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:40:58.605 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 697.8526ms
2024-08-14 17:40:58.611 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:40:58.615 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 758.4856 ms
2024-08-14 17:40:58.639 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 788.4761ms
2024-08-14 17:41:00.441 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - null null
2024-08-14 17:41:00.445 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:41:00.446 +03:00 [INF] Route matched with {action = "GetAll", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientListViewModel]] GetAll() on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:41:00.449 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) - Validation state: "Valid"
2024-08-14 17:41:00.459 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
2024-08-14 17:41:00.465 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.GetAll (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.2472ms.
2024-08-14 17:41:00.468 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Collections.Generic.IEnumerable`1[[Application.Features.Configurations.Client.Queries.GetConfigClientList.ConfigClientLookupDTO, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:41:00.470 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.GetAll (WebAPI) in 20.7922ms
2024-08-14 17:41:00.472 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.GetAll (WebAPI)'
2024-08-14 17:41:00.473 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig responded 200 in 29.5604 ms
2024-08-14 17:41:00.478 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 37.0301ms
2024-08-14 17:41:10.668 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - null null
2024-08-14 17:41:10.672 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:41:10.682 +03:00 [INF] Route matched with {action = "Get", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel]] Get(System.Guid) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:41:10.706 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Get (WebAPI) - Validation state: "Valid"
2024-08-14 17:41:10.854 +03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:41:10.865 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Get (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 157.8063ms.
2024-08-14 17:41:10.868 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[Application.Features.Configurations.Client.Queries.GetConfigClientDetails.ClientConfigDetailsViewModel, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-08-14 17:41:10.873 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Get (WebAPI) in 186.0719ms
2024-08-14 17:41:10.875 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Get (WebAPI)'
2024-08-14 17:41:10.876 +03:00 [INF] HTTP GET /api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 responded 200 in 204.1665 ms
2024-08-14 17:41:10.878 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/api/v1/client/configure/ClientConfig/11341fac-11e6-8b0c-aa4c-cfcf5346a113 - 200 null application/json; charset=utf-8 210.2415ms
2024-08-14 17:41:27.018 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 242
2024-08-14 17:41:27.026 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:41:27.028 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:41:27.035 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:41:27.115 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:41:27.312 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 265.1374ms
2024-08-14 17:41:27.314 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:41:27.356 +03:00 [ERR] One or more validation failures have occurred.
2024-08-14 17:41:27.369 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 344.3556 ms
2024-08-14 17:41:27.372 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json 353.599ms
2024-08-14 17:41:30.011 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 242
2024-08-14 17:41:30.019 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:41:30.021 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:41:30.022 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:41:30.026 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:41:30.138 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 113.0086ms
2024-08-14 17:41:30.143 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:41:30.168 +03:00 [ERR] One or more validation failures have occurred.
2024-08-14 17:41:30.170 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 151.6075 ms
2024-08-14 17:41:30.174 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json 163.1343ms
2024-08-14 17:41:37.481 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 242
2024-08-14 17:41:37.484 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:41:37.485 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:41:37.486 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:41:37.488 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:41:40.333 +03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:41:40.351 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_configuration" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:41:40.515 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 3027.5134ms
2024-08-14 17:41:40.517 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:41:40.557 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:41:40.559 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 3075.6970 ms
2024-08-14 17:41:40.603 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 3123.0535ms
2024-08-14 17:44:05.830 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 242
2024-08-14 17:44:05.846 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:44:05.848 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:44:05.851 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:44:05.854 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:44:07.757 +03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:44:07.772 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23505
    MessageText: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (client_id, database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.client_id, NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ConstraintName: client_configuration_pkey
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23505
    MessageText: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (client_id, database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.client_id, NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ConstraintName: client_configuration_pkey
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:44:07.976 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 2122.8548ms
2024-08-14 17:44:07.979 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:44:08.036 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:44:08.038 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 2193.3379 ms
2024-08-14 17:44:08.042 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 2211.6404ms
2024-08-14 17:46:04.182 +03:00 [INF] Application startup services registration
2024-08-14 17:46:05.120 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:46:05.233 +03:00 [INF] Application startup middleware registration
2024-08-14 17:46:06.176 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:46:06.490 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:46:06.580 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:46:06.583 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:46:06.588 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:46:06.591 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:46:06.748 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:46:06.835 +03:00 [INF] Application Starting
2024-08-14 17:46:06.949 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:46:06.950 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:46:06.952 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:46:06.953 +03:00 [INF] Hosting environment: Development
2024-08-14 17:46:06.954 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:46:07.420 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:46:07.634 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 130.7637 ms
2024-08-14 17:46:07.645 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 227.5102ms
2024-08-14 17:46:07.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:46:07.661 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:46:07.684 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 23.2158ms
2024-08-14 17:46:07.708 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.4172ms
2024-08-14 17:46:07.760 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:46:07.884 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 121.0030 ms
2024-08-14 17:46:07.887 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.3239ms
2024-08-14 17:46:18.913 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:46:18.953 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:46:18.990 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:46:19.076 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:46:19.621 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:46:19.940 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 839.1494ms
2024-08-14 17:46:19.945 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:46:19.983 +03:00 [ERR] One or more validation failures have occurred.
2024-08-14 17:46:19.999 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 1079.5177 ms
2024-08-14 17:46:20.004 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json 1091.8515ms
2024-08-14 17:46:27.857 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:46:27.863 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:46:27.865 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:46:27.867 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:46:27.873 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:46:28.567 +03:00 [INF] Executed DbCommand (20ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:46:29.092 +03:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:46:29.123 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23505
    MessageText: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (client_id, database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.client_id, NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ConstraintName: client_configuration_pkey
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23505
    MessageText: повторяющееся значение ключа нарушает ограничение уникальности "client_configuration_pkey"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_configuration (client_id, database_type, alarm_connection_string,notify_connection_string,
	caching,mode,address_to_alarm,address_to_notify,consumer_bootstrap_server,producer_bootstrap_server)
    VALUES  (NEW.client_id, NEW.database_type, NEW.alarm_connection_string,NEW.notify_connection_string,
	NEW.caching,NEW.mode,NEW.address_to_alarm,NEW.address_to_notify,NEW.consumer_bootstrap_server,NEW.producer_bootstrap_server)"
функция PL/pgSQL update_client_configuration(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_configuration
    ConstraintName: client_configuration_pkey
    File: nbtinsert.c
    Line: 673
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:46:29.555 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 1685.7541ms
2024-08-14 17:46:29.559 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:46:29.646 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:46:29.648 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 1786.4087 ms
2024-08-14 17:46:29.656 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1798.2921ms
2024-08-14 17:48:05.225 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:48:05.250 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:48:05.254 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:48:05.256 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:48:05.267 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:48:05.297 +03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:48:05.317 +03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:48:05.329 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:48:05.605 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 343.6139ms
2024-08-14 17:48:05.607 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:48:05.676 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:48:05.678 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 429.2489 ms
2024-08-14 17:48:05.685 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 460.2664ms
2024-08-14 17:48:07.803 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:48:07.806 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:48:07.807 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:48:07.808 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:48:07.813 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:48:07.824 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:48:07.844 +03:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:48:07.866 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:48:08.113 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 302.2072ms
2024-08-14 17:48:08.117 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:48:08.213 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:48:08.218 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 412.2378 ms
2024-08-14 17:48:08.224 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 421.6545ms
2024-08-14 17:48:42.301 +03:00 [INF] Application startup services registration
2024-08-14 17:48:43.131 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:48:43.221 +03:00 [INF] Application startup middleware registration
2024-08-14 17:48:44.225 +03:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:48:44.519 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:48:44.614 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:48:44.615 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:48:44.617 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:48:44.618 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:48:44.759 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:48:44.897 +03:00 [INF] Application Starting
2024-08-14 17:48:45.043 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:48:45.044 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:48:45.046 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:48:45.047 +03:00 [INF] Hosting environment: Development
2024-08-14 17:48:45.049 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:48:45.773 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:48:45.985 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 138.1151 ms
2024-08-14 17:48:46.001 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 223.1772ms
2024-08-14 17:48:46.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:48:46.003 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:48:46.018 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 14.7009ms
2024-08-14 17:48:46.058 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7332ms
2024-08-14 17:48:46.106 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:48:46.249 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 139.2185 ms
2024-08-14 17:48:46.251 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 145.2902ms
2024-08-14 17:48:54.629 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:48:54.672 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:48:54.695 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:48:54.778 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:48:55.341 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:48:55.604 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 808.9893ms
2024-08-14 17:48:55.608 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:48:55.652 +03:00 [ERR] One or more validation failures have occurred.
2024-08-14 17:48:55.676 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 1037.7835 ms
2024-08-14 17:48:55.689 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json 1060.0759ms
2024-08-14 17:49:02.613 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:49:02.618 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:49:02.620 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:49:02.622 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:49:02.632 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:49:03.300 +03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.client_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:49:03.808 +03:00 [ERR] Failed executing DbCommand (73ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?' (DbType = Boolean), @p7='?', @p8='?', @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-08-14 17:49:03.898 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:49:04.142 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 1516.211ms
2024-08-14 17:49:04.144 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:49:04.221 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:49:04.225 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 1607.8507 ms
2024-08-14 17:49:04.234 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1621.1892ms
2024-08-14 17:51:59.310 +03:00 [INF] Application startup services registration
2024-08-14 17:52:00.412 +03:00 [INF] User profile is available. Using 'C:\Users\Даниил\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-08-14 17:52:00.506 +03:00 [INF] Application startup middleware registration
2024-08-14 17:52:01.444 +03:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:52:01.729 +03:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:52:01.795 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'DBSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:52:01.797 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HostSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:52:01.798 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'HubSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:52:01.800 +03:00 [WRN] The foreign key {'SystemId'} on entity type 'KafkaSettings' targets itself. Consider removing it since it serves no purpose.
2024-08-14 17:52:02.013 +03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2024-08-14 17:52:02.136 +03:00 [INF] Application Starting
2024-08-14 17:52:02.297 +03:00 [INF] Now listening on: https://localhost:7098
2024-08-14 17:52:02.300 +03:00 [INF] Now listening on: http://localhost:5139
2024-08-14 17:52:02.306 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-08-14 17:52:02.311 +03:00 [INF] Hosting environment: Development
2024-08-14 17:52:02.316 +03:00 [INF] Content root path: D:\Develop\App\WSService-DataModules\WebAPI\WebAPI.Backend\Presentation\WebAPI
2024-08-14 17:52:02.783 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/index.html - null null
2024-08-14 17:52:03.038 +03:00 [INF] HTTP GET /swagger/index.html responded 200 in 155.2923 ms
2024-08-14 17:52:03.045 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/index.html - 200 null text/html;charset=utf-8 266.0821ms
2024-08-14 17:52:03.057 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_vs/browserLink - null null
2024-08-14 17:52:03.059 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - null null
2024-08-14 17:52:03.077 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_framework/aspnetcore-browser-refresh.js - 200 13748 application/javascript; charset=utf-8 17.717ms
2024-08-14 17:52:03.103 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.8887ms
2024-08-14 17:52:03.147 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - null null
2024-08-14 17:52:03.304 +03:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 154.0680 ms
2024-08-14 17:52:03.307 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7098/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.1804ms
2024-08-14 17:52:10.080 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:52:10.125 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:52:10.134 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:52:10.178 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:52:10.535 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:52:10.720 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 528.4193ms
2024-08-14 17:52:10.723 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:52:10.756 +03:00 [ERR] One or more validation failures have occurred.
2024-08-14 17:52:10.765 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 400 in 664.5933 ms
2024-08-14 17:52:10.772 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 400 null application/json 692.1687ms
2024-08-14 17:52:13.842 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:52:13.850 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:52:13.852 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:52:13.853 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:52:13.859 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:52:14.426 +03:00 [INF] Executed DbCommand (19ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.system_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:52:14.814 +03:00 [ERR] Failed executing DbCommand (35ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, system_id, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2024-08-14 17:52:14.831 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistance.DbContexts.ClientConfigDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at async ValueTask<IBackendMessage> Npgsql.Internal.NpgsqlConnector.ReadMessageLong(bool async, DataRowLoadingMode dataRowLoadingMode, bool readingNotifications, bool isReadingPrependedMessage)
   at async Task<bool> Npgsql.NpgsqlDataReader.NextResult(bool async, bool isConsuming, CancellationToken cancellationToken) x 2
   at async ValueTask<NpgsqlDataReader> Npgsql.NpgsqlCommand.ExecuteReader(bool async, CommandBehavior behavior, CancellationToken cancellationToken) x 2
   at async Task<DbDataReader> Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ОШИБКА
    SqlState: 23502
    MessageText: значение NULL в столбце "client_id" отношения "client_settings" нарушает ограничение NOT NULL
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    Where: SQL-оператор: "INSERT INTO client_settings (caching, mode)
    VALUES  (NEW.caching, NEW.mode)"
функция PL/pgSQL update_client_settings(), строка 3, оператор SQL-оператор
    SchemaName: public
    TableName: client_settings
    ColumnName: client_id
    File: execMain.c
    Line: 2009
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-08-14 17:52:15.090 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 1234.8464ms
2024-08-14 17:52:15.092 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:52:15.175 +03:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-08-14 17:52:15.177 +03:00 [ERR] HTTP POST /api/v1/client/configure/ClientConfig responded 500 in 1328.1708 ms
2024-08-14 17:52:15.184 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 500 null application/json 1341.8495ms
2024-08-14 17:56:48.551 +03:00 [INF] Request starting HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - application/json 297
2024-08-14 17:56:48.563 +03:00 [INF] CORS policy execution successful.
2024-08-14 17:56:48.564 +03:00 [INF] Executing endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:56:48.565 +03:00 [INF] Route matched with {action = "Create", controller = "ClientConfig"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Guid]] Create(WebAPI.Models.Config.CreateClientConfigDTO) on controller WebAPI.Controllers.ClientConfigController (WebAPI).
2024-08-14 17:56:48.572 +03:00 [INF] Executing action method WebAPI.Controllers.ClientConfigController.Create (WebAPI) - Validation state: "Valid"
2024-08-14 17:56:48.599 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__get_Item_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c.client_id, c.system_id, c.address_to_alarm, c.address_to_notify, c.database_type, c.alarm_connection_string, c.notify_connection_string, c.consumer_bootstrap_server, c.producer_bootstrap_server, c.mode, c.caching
FROM client_configuration AS c
WHERE c.client_id = @__get_Item_0
LIMIT 1
2024-08-14 17:56:48.624 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Guid), @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?', @p9='?', @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO client_configuration (client_id, address_to_alarm, alarm_connection_string, system_id, consumer_bootstrap_server, database_type, mode, caching, address_to_notify, notify_connection_string, producer_bootstrap_server)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2024-08-14 17:56:48.647 +03:00 [INF] Executed action method WebAPI.Controllers.ClientConfigController.Create (WebAPI), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 65.0131ms.
2024-08-14 17:56:48.658 +03:00 [INF] Executing OkObjectResult, writing value of type 'Application.Wrappers.Response`1[[System.Guid, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-08-14 17:56:48.667 +03:00 [INF] Executed action WebAPI.Controllers.ClientConfigController.Create (WebAPI) in 98.0516ms
2024-08-14 17:56:48.668 +03:00 [INF] Executed endpoint 'WebAPI.Controllers.ClientConfigController.Create (WebAPI)'
2024-08-14 17:56:48.669 +03:00 [INF] HTTP POST /api/v1/client/configure/ClientConfig responded 200 in 106.7755 ms
2024-08-14 17:56:48.671 +03:00 [INF] Request finished HTTP/2 POST https://localhost:7098/api/v1/client/configure/ClientConfig - 200 null application/json; charset=utf-8 120.6142ms
